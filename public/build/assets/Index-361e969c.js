import{g as xe,R as c,r as M,j as b,a as o,F as Ce,y as Ee}from"./app-a0126c61.js";import{A as we}from"./AuthenticatedLayout-839c4d35.js";import"./ApplicationLogo-984ad16e.js";import"./transition-e89bf6c8.js";var Q={exports:{}},Ne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ke=Ne,Oe=ke;function Z(){}function ee(){}ee.resetWarningCache=Z;var je=function(){function r(n,a,i,l,f,s){if(s!==Oe){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function e(){return r}var t={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:e,element:r,elementType:r,instanceOf:e,node:r,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ee,resetWarningCache:Z};return t.PropTypes=t,t};Q.exports=je();var Pe=Q.exports;const u=xe(Pe);function J(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function V(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J(Object(t),!0).forEach(function(n){te(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function I(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I=function(e){return typeof e}:I=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(r)}function te(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function re(r,e){return Re(r)||Ae(r,e)||Te(r,e)||Le()}function Re(r){if(Array.isArray(r))return r}function Ae(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var n=[],a=!0,i=!1,l,f;try{for(t=t.call(r);!(a=(l=t.next()).done)&&(n.push(l.value),!(e&&n.length===e));a=!0);}catch(s){i=!0,f=s}finally{try{!a&&t.return!=null&&t.return()}finally{if(i)throw f}}return n}}function Te(r,e){if(r){if(typeof r=="string")return G(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return G(r,e)}}function G(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function Le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g=function(e,t,n){var a=!!n,i=c.useRef(n);c.useEffect(function(){i.current=n},[n]),c.useEffect(function(){if(!a||!e)return function(){};var l=function(){i.current&&i.current.apply(i,arguments)};return e.on(t,l),function(){e.off(t,l)}},[a,t,e,i])},q=function(e){var t=c.useRef(e);return c.useEffect(function(){t.current=e},[e]),t.current},k=function(e){return e!==null&&I(e)==="object"},We=function(e){return k(e)&&typeof e.then=="function"},_e=function(e){return k(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},X="[object Object]",Ie=function r(e,t){if(!k(e)||!k(t))return e===t;var n=Array.isArray(e),a=Array.isArray(t);if(n!==a)return!1;var i=Object.prototype.toString.call(e)===X,l=Object.prototype.toString.call(t)===X;if(i!==l)return!1;if(!i&&!n)return e===t;var f=Object.keys(e),s=Object.keys(t);if(f.length!==s.length)return!1;for(var h={},y=0;y<f.length;y+=1)h[f[y]]=!0;for(var S=0;S<s.length;S+=1)h[s[S]]=!0;var m=Object.keys(h);if(m.length!==f.length)return!1;var w=e,N=t,C=function(R){return r(w[R],N[R])};return m.every(C)},ne=function(e,t,n){return k(e)?Object.keys(e).reduce(function(a,i){var l=!k(t)||!Ie(e[i],t[i]);return n.includes(i)?(l&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):l?V(V({},a||{}),{},te({},i,e[i])):a},null):null},ae="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Y=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ae;if(e===null||_e(e))return e;throw new Error(t)},Fe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ae;if(We(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return Y(a,t)})};var n=Y(e,t);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},Ue=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},F=c.createContext(null);F.displayName="ElementsContext";var oe=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},ie=function(e){var t=e.stripe,n=e.options,a=e.children,i=c.useMemo(function(){return Fe(t)},[t]),l=c.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),f=re(l,2),s=f[0],h=f[1];c.useEffect(function(){var m=!0,w=function(C){h(function(O){return O.stripe?O:{stripe:C,elements:C.elements(n)}})};return i.tag==="async"&&!s.stripe?i.stripePromise.then(function(N){N&&m&&w(N)}):i.tag==="sync"&&!s.stripe&&w(i.stripe),function(){m=!1}},[i,s,n]);var y=q(t);c.useEffect(function(){y!==null&&y!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[y,t]);var S=q(n);return c.useEffect(function(){if(s.elements){var m=ne(n,S,["clientSecret","fonts"]);m&&s.elements.update(m)}},[n,S,s.elements]),c.useEffect(function(){Ue(s.stripe)},[s.stripe]),c.createElement(F.Provider,{value:s},a)};ie.propTypes={stripe:u.any,options:u.object};var De=function(e){var t=c.useContext(F);return oe(t,e)},Me=function(){var e=De("calls useElements()"),t=e.elements;return t};u.func.isRequired;var se=c.createContext(null);se.displayName="CustomCheckoutSdkContext";var qe=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},Be=c.createContext(null);Be.displayName="CustomCheckoutContext";u.any,u.shape({clientSecret:u.string.isRequired,elementsOptions:u.object}).isRequired;var B=function(e){var t=c.useContext(se),n=c.useContext(F);if(t&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return t?qe(t,e):oe(n,e)},$e=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},d=function(e,t){var n="".concat($e(e),"Element"),a=function(s){var h=s.id,y=s.className,S=s.options,m=S===void 0?{}:S,w=s.onBlur,N=s.onFocus,C=s.onReady,O=s.onChange,R=s.onEscape,de=s.onClick,pe=s.onLoadError,fe=s.onLoaderStart,me=s.onNetworksChange,he=s.onConfirm,ve=s.onCancel,ye=s.onShippingAddressChange,ge=s.onShippingRateChange,A=B("mounts <".concat(n,">")),T="elements"in A?A.elements:null,L="customCheckoutSdk"in A?A.customCheckoutSdk:null,be=c.useState(null),$=re(be,2),v=$[0],Se=$[1],E=c.useRef(null),U=c.useRef(null);g(v,"blur",w),g(v,"focus",N),g(v,"escape",R),g(v,"click",de),g(v,"loaderror",pe),g(v,"loaderstart",fe),g(v,"networkschange",me),g(v,"confirm",he),g(v,"cancel",ve),g(v,"shippingaddresschange",ye),g(v,"shippingratechange",ge),g(v,"change",O);var D;C&&(e==="expressCheckout"?D=C:D=function(){C(v)}),g(v,"ready",D),c.useLayoutEffect(function(){if(E.current===null&&U.current!==null&&(T||L)){var x=null;L?x=L.createElement(e,m):T&&(x=T.create(e,m)),E.current=x,Se(x),x&&x.mount(U.current)}},[T,L,m]);var H=q(m);return c.useEffect(function(){if(E.current){var x=ne(m,H,["paymentRequest"]);x&&E.current.update(x)}},[m,H]),c.useLayoutEffect(function(){return function(){if(E.current&&typeof E.current.destroy=="function")try{E.current.destroy(),E.current=null}catch{}}},[]),c.createElement("div",{id:h,className:y,ref:U})},i=function(s){B("mounts <".concat(n,">"));var h=s.id,y=s.className;return c.createElement("div",{id:h,className:y})},l=t?i:a;return l.propTypes={id:u.string,className:u.string,onChange:u.func,onBlur:u.func,onFocus:u.func,onReady:u.func,onEscape:u.func,onClick:u.func,onLoadError:u.func,onLoaderStart:u.func,onNetworksChange:u.func,onConfirm:u.func,onCancel:u.func,onShippingAddressChange:u.func,onShippingRateChange:u.func,options:u.object},l.displayName=n,l.__elementType=e,l},p=typeof window>"u",He=c.createContext(null);He.displayName="EmbeddedCheckoutProviderContext";var Je=function(){var e=B("calls useStripe()"),t=e.stripe;return t};d("auBankAccount",p);d("card",p);d("cardNumber",p);d("cardExpiry",p);d("cardCvc",p);d("fpxBank",p);d("iban",p);d("idealBank",p);d("p24Bank",p);d("epsBank",p);var Ve=d("payment",p);d("expressCheckout",p);d("paymentRequestButton",p);d("linkAuthentication",p);d("address",p);d("shippingAddress",p);d("paymentMethodMessaging",p);d("affirmMessage",p);d("afterpayClearpayMessage",p);var ce="https://js.stripe.com/v3",Ge=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,z="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Xe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(ce,'"]')),t=0;t<e.length;t++){var n=e[t];if(Ge.test(n.src))return n}return null},K=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(ce).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},Ye=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"3.3.0",startTime:t})},j=null,W=null,_=null,ze=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},Ke=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},Qe=function(e){return j!==null?j:(j=new Promise(function(t,n){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(z),window.Stripe){t(window.Stripe);return}try{var a=Xe();if(a&&e)console.warn(z);else if(!a)a=K(e);else if(a&&_!==null&&W!==null){var i;a.removeEventListener("load",_),a.removeEventListener("error",W),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=K(e)}_=Ke(t,n),W=ze(n),a.addEventListener("load",_),a.addEventListener("error",W)}catch(l){n(l);return}}),j.catch(function(t){return j=null,Promise.reject(t)}))},Ze=function(e,t,n){if(e===null)return null;var a=e.apply(void 0,t);return Ye(a,n),a},P,le=!1,ue=function(){return P||(P=Qe(null).catch(function(e){return P=null,Promise.reject(e)}),P)};Promise.resolve().then(function(){return ue()}).catch(function(r){le||console.warn(r)});var et=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];le=!0;var a=Date.now();return ue().then(function(i){return Ze(i,t,a)})};const tt=()=>{const r=Je(),e=Me(),[t,n]=M.useState(null);async function a(i){if(i.preventDefault(),!r||!e)return;const l=await r.confirmSetup({elements:e,redirect:"if_required",confirmParams:{return_url:"http://localhost:8000/profile"}});l.error?n(l.error.message):window.location.reload(!0)}return b("form",{onSubmit:a,children:[o(Ve,{}),o("button",{disabled:!r,children:"Submit"}),t&&o("div",{children:t})]})},rt=(r,e)=>({...r,[e.target.name]:e.target.value}),nt=et("pk_test_51I9ulMJw9DiOg9nVQpS3mWAqirhjzEJbyHXJqmoOMWGGF7HVWtkF0OXQF2HLLCNlDETNEzZHetUpS8cdASkLRb7u00WMVXHy81"),ct=({account:r,user:e,errors:t,client_secret:n,payment_method:a,auth:i})=>{const[l,f]=M.useReducer(rt,{}),[s,h]=M.useState(""),y={clientSecret:n};function S(m){m.preventDefault(),Ee.post(route("send-money"),l,{onSuccess:({props:w})=>{h("Success!")}})}return o(Ce,{children:o(we,{auth:i,errors:t,header:o("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Dashboard"}),children:b("main",{className:"profile-page",children:[b("section",{className:"relative block",style:{height:"500px"},children:[o("div",{className:"absolute top-0 w-full h-full bg-center bg-cover",style:{backgroundImage:"url('https://images.unsplash.com/photo-1499336315816-097655dcfbda?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2710&q=80')"},children:o("span",{id:"blackOverlay",className:"w-full h-full absolute opacity-50 bg-black"})}),o("div",{className:"top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden",style:{height:"70px"},children:o("svg",{className:"absolute bottom-0 overflow-hidden",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0",children:o("polygon",{className:"text-gray-300 fill-current",points:"2560 0 2560 100 0 100"})})})]}),o("section",{className:"relative py-16 bg-gray-300",children:o("div",{className:"container mx-auto px-4",children:o("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-xl rounded-lg -mt-64",children:b("div",{className:"px-6",children:[o("div",{className:"flex flex-wrap justify-center",children:o("div",{className:"w-full lg:w-3/12 px-4 lg:order-2 flex justify-center",children:o("div",{className:"relative",children:o("img",{alt:"...",src:"https://picsum.photos/400",className:"shadow-xl rounded-full h-auto align-middle border-none absolute -m-16 -ml-20 lg:-ml-16",style:{maxWidth:"150px"}})})})}),b("div",{className:"text-center mt-24",children:[o("h3",{className:"text-4xl font-semibold leading-normal mb-2 text-gray-800",children:e.name}),b("div",{className:"text-sm leading-normal mt-0 mb-2 text-gray-500 font-bold uppercase",children:[o("i",{className:"fas fa-map-marker-alt mr-2 text-lg text-gray-500"})," ",o("strong",{children:"Balance:"})," $",r.balance]})]}),Object.keys(a.data).length===0?o("div",{className:"mt-10 py-10 border-t border-gray-300 flex justify-center",children:o("div",{className:"w-1/2",children:o(ie,{stripe:nt,options:y,children:o(tt,{})})})}):o("div",{className:"mt-10 py-10 border-t border-gray-300",children:o("div",{className:"text-center",children:"Card available"})}),o("div",{className:"mt-10 py-10 border-t border-gray-300 text-center",children:o("div",{className:"flex justify-center",children:b("form",{className:"w-full max-w-sm",onSubmit:S,children:[s&&o("p",{className:"mb-6 text-green-700 font-bold",children:s}),b("div",{className:"mb-6",children:[b("div",{className:"md:flex md:items-center",children:[o("div",{className:"md:w-1/3",children:o("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",htmlFor:"inline-full-name",children:"Email"})}),o("div",{className:"md:w-2/3",children:o("input",{className:`${Object.keys(t).length>0&&t.email?"border-red-500":"border-gray-200"} bg-gray-200 appearance-none border-2 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500`,type:"text",name:"email",placeholder:"person@example.net",onChange:f})})]}),Object.keys(t).length>0?o("span",{className:"font-medium tracking-wide text-red-500 text-xs mt-1 ml-1",children:t.email}):null]}),b("div",{className:"mb-6",children:[b("div",{className:"md:flex md:items-center",children:[o("div",{className:"md:w-1/3",children:o("label",{className:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",htmlFor:"inline-password",children:"Amount"})}),b("div",{className:"md:w-2/3 flex",children:[o("span",{className:"leading-10 mr-2",children:"$"}),o("input",{className:`${Object.keys(t).length>0&&t.amount?"border-red-500":"border-gray-200"} bg-gray-200 appearance-none border-2 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500`,type:"text",name:"amount",placeholder:"3.00",onChange:f})]})]}),Object.keys(t).length>0?o("span",{className:"font-medium tracking-wide text-red-500 text-xs mt-1 ml-1",children:t.amount}):null]}),o("div",{className:"flex justify-center",children:o("button",{className:"shadow bg-purple-500 hover:bg-purple-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded",type:"submit",children:"Send"})})]})})})]})})})})]})})})};export{ct as default};
